
<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Municipality of San Luis - Child Immunization Records</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&amp;family=Lato:wght@300;400;700&amp;display=swap" rel="stylesheet"/>
<style>
.material-symbols-outlined {
    font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
}
nav a.active { text-decoration: underline; }
</style>
<script id="tailwind-config">
tailwind.config = {
    darkMode: "class",
    theme: {
        extend: {
            colors: {
                "primary": "#90EE90",
                "secondary": "#43A047",
                "accent": "#A5D6A7",
                "background-light": "#F9FAFB", // Gray-50
                "background-dark": "#1F2937", // Gray-800
                "text-light": "#1B5E20", // Green-800
                "text-dark": "#F9FAFB", // Gray-50
            },
            fontFamily: {
                "display": ["Roboto", "sans-serif"],
                "body": ["Lato", "sans-serif"]
            },
            borderRadius: {
                "DEFAULT": "0.5rem",
                "lg": "0.75rem",
                "xl": "1rem",
                "full": "9999px"
            },
        },
    },
}
</script>
</head>
<body class="bg-background-light dark:bg-background-dark font-body text-text-light dark:text-text-dark">
<div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
<div class="layout-container flex h-full grow flex-col">
<header class="flex items-center justify-between whitespace-nowrap bg-primary px-6 py-4 shadow-md sticky top-0 z-50">
<div class="flex items-center gap-2 sm:gap-4 text-text-light dark:text-text-dark">
<span class="material-symbols-outlined text-3xl sm:text-4xl text-primary">health_and_safety</span>
<h2 class="text-xl sm:text-2xl font-bold leading-tight tracking-[-0.015em] font-display">San Luis Health</h2>
</div>
<nav class="flex items-center gap-4">
<a class="text-lg font-medium leading-normal hover:text-primary transition-colors" href="#home">Home</a>
<a class="text-lg font-medium leading-normal hover:text-primary transition-colors" href="#about">About</a>
<a class="text-lg font-medium leading-normal hover:text-primary transition-colors" href="#contact">Contact</a>
<button onclick="showLoginModal()" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 sm:h-12 sm:px-6 bg-primary text-white text-sm sm:text-base font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-opacity">
<span class="truncate">Login</span>
</button>
</nav>
</header>
<div class="flex flex-1 justify-center">
<div class="layout-content-container flex flex-col flex-1 px-10">
<main class="flex-1">
<div id="home" class="p-2 md:p-4">
<div class="flex flex-col gap-8 md:gap-12 items-center bg-white dark:bg-background-dark p-6 md:p-8 rounded-xl shadow-lg">
<div class="w-full flex flex-col lg:flex-row gap-8 md:gap-10 items-center">
<div class="flex-1 flex flex-col gap-4 text-center lg:text-left">
<h1 class="text-4xl md:text-6xl font-bold leading-tight tracking-tighter font-display text-secondary">
    Securing a Healthy Future for Our Children
</h1>
<p class="text-lg md:text-xl font-light leading-relaxed text-text-light/80 dark:text-text-dark/80">
    Ensuring every child in San Luis has access to life-saving immunizations. Our secure system empowers health workers and provides peace of mind for families.
</p>
</div>
<div class="w-full lg:w-1/2 flex flex-col gap-4">
<div class="relative flex items-center justify-center bg-gray-200 bg-cover bg-center aspect-video rounded-xl shadow-2xl overflow-hidden">
<iframe 
  class="w-full h-full"
  src="https://www.youtube.com/embed/hjTQN2b-fuo?start=36&autoplay=1&mute=1&loop=1&playlist=hjTQN2b-fuo"
  title="YouTube video player"
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  allowfullscreen>
</iframe>
</div>
</div>
</div>
</div>
</div>

<!-- ✅ CTA Section -->
<div class="flex flex-col gap-6 md:gap-8 items-center bg-background-light dark:bg-gray-900 px-2 py-8 md:py-12 text-center">
<h2 class="text-3xl md:text-5xl font-bold tracking-tight font-display text-secondary">Ready to Safeguard Our Children's Health?</h2>
<p class="text-lg md:text-xl font-normal leading-relaxed max-w-4xl mx-auto text-text-light/80 dark:text-text-dark/80">Take the first step towards a more efficient and secure immunization tracking system. Access vital records, ensure timely vaccinations, and protect the future of San Luis. Click below to begin.</p>
</div>

<!-- ✅ Numbers Section -->
<div id="about" class="bg-background-light dark:bg-gray-900 py-8 md:py-12">
<div class="max-w-[1200px] mx-auto px-2 sm:px-4 lg:px-6">
<div class="text-center">
<h2 class="text-3xl md:text-5xl font-bold tracking-tight font-display text-secondary">Our Impact in Numbers</h2>
<p class="mt-4 text-lg md:text-xl font-normal leading-relaxed max-w-3xl mx-auto text-text-light/80 dark:text-text-dark/80">We are committed to improving public health in San Luis. The data speaks for itself.</p>
</div>
<div class="mt-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 text-center">
<div class="bg-white dark:bg-background-dark p-8 rounded-xl shadow-lg">
<span class="text-5xl md:text-6xl font-bold text-secondary">95%</span>
<p class="mt-2 text-lg font-medium text-text-light/80 dark:text-text-dark/80">Immunization Coverage</p>
</div>
<div class="bg-white dark:bg-background-dark p-8 rounded-xl shadow-lg">
<span class="text-5xl md:text-6xl font-bold text-secondary">30%</span>
<p class="mt-2 text-lg font-medium text-text-light/80 dark:text-text-dark/80">Reduction in Vaccine-Preventable Diseases</p>
</div>
<div class="bg-white dark:bg-background-dark p-8 rounded-xl shadow-lg">
<span class="text-5xl md:text-6xl font-bold text-secondary">50%</span>
<p class="mt-2 text-lg font-medium text-text-light/80 dark:text-text-dark/80">Increase in Timely Vaccinations</p>
</div>
</div>
</div>
</div>


<!-- ✅ Walkthrough Video -->
<div class="p-2 md:p-4">
<div class="flex flex-col gap-6 items-center bg-primary text-white dark:bg-primary/90 p-6 md:p-10 rounded-2xl shadow-xl">
<h3 class="text-2xl md:text-4xl font-bold text-center font-display text-secondary">See the System in Action</h3>
<p class="text-base md:text-lg text-center max-w-3xl opacity-90">
    This short video provides a walkthrough of the immunization records system, highlighting its ease of use, key features, and how it helps protect the children of San Luis.
</p>
<div class="w-full max-w-4xl flex flex-col gap-4 mt-4">
<div class="relative flex items-center justify-center bg-black/20 aspect-video rounded-xl shadow-lg overflow-hidden">
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="w-full h-full" frameborder="0" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="System Walkthrough"></iframe>
</div>
</div>
</div>
</div>


<!-- ✅ Connect With Us -->
<div id="contact" class="bg-white dark:bg-gray-800 py-12 px-2 sm:px-4 lg:px-6">
<div class="max-w-4xl mx-auto text-center">
<h2 class="text-3xl md:text-4xl font-bold tracking-tight font-display text-secondary">Connect With Us</h2>
<p class="mt-4 text-lg md:text-xl text-text-light/80 dark:text-text-dark/80">Stay updated and get in touch with the Municipality of San Luis. We're here to help.</p>
<div class="mt-10 flex justify-center gap-6">
  <!-- Facebook -->
  <a class="text-gray-400 hover:text-primary transition-colors" href="https://www.facebook.com/profile.php?id=100009094025353" target="_blank" rel="noopener noreferrer">
    <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M22.675 0h-21.35C.593 0 0 .593 0 1.325v21.351C0 23.407.593 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.732 0 1.323-.593 1.323-1.325V1.325C24 .593 23.407 0 22.675 0z"></path></svg>
  </a>
  <!-- Google -->
  <a class="text-gray-400 hover:text-primary transition-colors" href="mailto:sanluishealthoffice@gmail.com">
    <svg class="h-8 w-8" viewBox="0 0 48 48">
      <path fill="#FFC107" d="M43.6 20.5H42V20H24v8h11.3c-1.6 4.6-6 8-11.3 8-6.6 0-12-5.4-12-12s5.4-12 12-12c3.1 0 6 .9 8.3 3l5.7-5.7C34.6 7.6 29.6 6 24 6 13.5 6 5 14.5 5 25s8.5 19 19 19 19-8.5 19-19c0-1.5-.2-3-.4-4.5z"/>
      <path fill="#FF3D00" d="M6.3 14.7l6.6 4.8C14.5 16 18.9 13 24 13c3.1 0 6 .9 8.3 3l5.7-5.7C34.6 7.6 29.6 6 24 6c-7.9 0-14.6 4.6-17.7 8.7z"/>
      <path fill="#4CAF50" d="M24 44c5.5 0 10.4-1.8 13.9-4.9l-6.4-5.4c-2 1.3-4.5 2.1-7.5 2.1-5.3 0-9.7-3.4-11.3-8H6.3l-6.7 5.1C6.4 39.4 14.7 44 24 44z"/>
      <path fill="#1976D2" d="M43.6 20.5H42V20H24v8h11.3c-.8 2.3-2.3 4.3-4.3 5.7l6.4 5.4c-1.8 1.6 8.6-5.2 8.6-14.6 0-1.5-.2-3-.4-4.5z"/>
    </svg>
  </a>
  <!-- Instagram -->
  <a class="text-gray-400 hover:text-primary transition-colors" href="https://www.instagram.com/sanluishealthoffice/" target="_blank" rel="noopener noreferrer">
    <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44c0-.795-.645-1.44-1.441-1.44z"></path></svg>
  </a>
</div>

<div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
<div class="flex flex-col items-center md:items-start text-center md:text-left gap-2">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-3xl text-secondary">phone</span>
<h3 class="text-xl font-semibold font-display">Phone</h3>
</div>
<a class="text-lg text-text-light/80 dark:text-text-dark/80 hover:text-primary transition-colors" href="tel:+1234567890">(123) 456-7890</a>
</div>
<div class="flex flex-col items-center md:items-start text-center md:text-left gap-2">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-3xl text-secondary">email</span>
<h3 class="text-xl font-semibold font-display">Email</h3>
</div>
<a class="text-lg text-text-light/80 dark:text-text-dark/80 hover:text-primary transition-colors" href="mailto:contact@sanluis.gov">sanluishealthoffice@gmail.com</a>
</div>
<div class="flex flex-col items-center md:items-start text-center md:text-left gap-2">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-3xl text-secondary">location_on</span>
<h3 class="text-xl font-semibold font-display">Address</h3>
</div>
<p class="text-lg text-text-light/80 dark:text-text-dark/80">San Luis, Batangas</p>
</div>
</div>
</div>
</div>



<!-- ✅ Our Location -->
<div class="bg-background-light dark:bg-gray-900 py-12 px-2 sm:px-4 lg:px-6">
<div class="max-w-4xl mx-auto text-center">
<h2 class="text-3xl md:text-4xl font-bold tracking-tight font-display text-secondary">Our Location</h2>
<p class="mt-4 text-lg md:text-xl text-text-light/80 dark:text-text-dark/80">Located in the heart of San Luis, Batangas, serving our community with care.</p>
<div class="mt-8">
<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15447.123456789!2d120.123456!3d13.123456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33bd6b1234567890%3A0x1234567890abcdef!2sSan%20Luis%2C%20Batangas!5e0!3m2!1sen!2sph!4v1234567890123!5m2!1sen!2sph" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</div>
</div>
</div>



</main>

<!-- ✅ Footer -->
<footer class="flex flex-col gap-8 px-5 py-12 text-center bg-gray-900 text-white">

<!-- Login Modal -->
<div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
  <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
    <div class="mt-3">
      <div class="flex justify-between items-center">
        <h3 class="text-lg font-medium text-gray-900">Sign In</h3>
        <button onclick="hideLoginModal()" class="text-gray-400 hover:text-gray-600">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <form id="loginForm" class="mt-4">
        <div class="mb-4">
          <label for="email" class="block text-sm font-medium text-gray-900 mb-2">Email</label>
          <input type="email" id="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-gray-900" placeholder="you@example.com" required />
        </div>
        <div class="mb-6 relative">
          <label for="password" class="block text-sm font-medium text-gray-900 mb-2">Password</label>
          <input type="password" id="password" class="w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-gray-900" placeholder="••••••••" required />
          <button type="button" onclick="togglePasswordVisibility()" class="absolute bottom-2 right-2 text-gray-400 hover:text-gray-600">
            <span class="material-symbols-outlined text-sm">visibility_off</span>
          </button>
        </div>
        <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary">Continue</button>
      </form>
      <p id="error" class="mt-2 text-red-600 text-sm hidden">Invalid credentials</p>
    </div>
  </div>
</div>
<div class="flex flex-col sm:flex-row flex-wrap items-center justify-center gap-4 sm:gap-8">
<a class="text-base font-medium leading-normal hover:text-secondary transition-colors" href="#">Privacy Policy</a>
<a class="text-base font-medium leading-normal hover:text-secondary transition-colors" href="#">Terms of Service</a>
<a class="text-base font-medium leading-normal hover:text-secondary transition-colors" href="#">Contact Us</a>
</div>
<p class="text-base font-normal leading-normal text-gray-400">© 2023 Municipality of San Luis. All Rights Reserved.</p>
</footer>
</div>
</div>
</div>
</div>

<script>
const sections = document.querySelectorAll('main > div[id]');
const navLinks = document.querySelectorAll('nav a');

window.addEventListener('scroll', () => {
  let current = '';
  sections.forEach(section => {
    const sectionTop = section.offsetTop - 100;
    const sectionHeight = section.offsetHeight;
    if (pageYOffset >= sectionTop && pageYOffset < sectionTop + sectionHeight) {
      current = section.getAttribute('id');
    }
  });
  navLinks.forEach(link => {
    link.classList.remove('active');
    if (link.getAttribute('href') === '#' + current) {
      link.classList.add('active');
    }
  });
});
</script>

<script src="js/app.js"></script>

<script>
// Function to parse date string (assume mm/dd/yyyy)
function parseDate(str) {
  if (!str || !str.trim()) return null;
  const parts = str.split('/');
  if (parts.length === 3) {
    const year = parseInt(parts[2]);
    const month = parseInt(parts[0]) - 1;
    const day = parseInt(parts[1]);
    return new Date(year, month, day);
  }
  return null;
}

// Function to check if vaccination is timely
function isTimely(vaccine, ageMonths) {
  const ranges = {
    "BCG (At Birth)": [0, 1],
    "HEPA B (At Birth)": [0, 1],
    "PENTA 1 ( 1 1/2 mos.)": [1, 3],
    "PENTA 2 ( 2 1/2 mos.)": [2, 4],
    "PENTA 3 ( 3 1/2 mos.)": [3, 5],
    "OPV 1  ( 1 1/2 mos.)": [1, 3],
    "OPV 2  ( 2 1/2 mos.)": [2, 4],
    "OPV 3  ( 3 1/2 mos.)": [3, 5],
    "IPV1  ( 3 1/2 mos.)": [3, 5],
    "IPV2  ( 9 mos.)": [8, 11],
    "PCV1  ( 1 1/2 mos.)": [1, 3],
    "PCV2  ( 2 1/2 mos.)": [2, 4],
    "PCV3  ( 3 1/2 mos.)": [3, 5],
    "MCV1 (9 mos.)": [8, 11],
    "MCV2 (12 mos. & 29 days)": [12, 15]
  };
  const range = ranges[vaccine];
  return range && ageMonths >= range[0] && ageMonths <= range[1];
}

// Function to aggregate all data from BHW dashboards
function aggregateAllData() {
  let totalChildren = 0;
  let fullyVaccinated = 0;
  let pendingVaccines = 0;
  let timelyVaccines = 0;
  let totalVaccines = 0;

  BARANGAYS.forEach(b => {
    SECTORS.forEach(s => {
      const key = `hp_children_${b}__${s}`;
      const data = JSON.parse(localStorage.getItem(key) || '[]');
      data.forEach(child => {
        totalChildren++;
        const dobStr = child["Date of Birth"];
        const dob = parseDate(dobStr);
        let hasAll = true;
        let childTimely = 0;
        let childTotal = 0;
        VACCINES.forEach(v => {
          const vacDateStr = child[v];
          if (vacDateStr && vacDateStr.trim()) {
            childTotal++;
            if (dob) {
              const vacDate = parseDate(vacDateStr);
              if (vacDate) {
                const ageMonths = (vacDate - dob) / (1000 * 60 * 60 * 24 * 30.44); // approximate months
                if (isTimely(v, ageMonths)) {
                  childTimely++;
                }
              }
            }
          } else {
            hasAll = false;
          }
        });
        if (hasAll) fullyVaccinated++;
        pendingVaccines += (VACCINES.length - childTotal);
        timelyVaccines += childTimely;
        totalVaccines += childTotal;
      });
    });
  });

  return { totalChildren, fullyVaccinated, pendingVaccines, timelyVaccines, totalVaccines };
}

// Update the homepage numbers on load
document.addEventListener('DOMContentLoaded', () => {
  const stats = aggregateAllData();
  const spans = document.querySelectorAll('.text-5xl.md\\:text-6xl.font-bold.text-secondary');
  if (spans.length >= 3) {
    spans[0].textContent = stats.totalChildren > 0 ? Math.round((stats.fullyVaccinated / stats.totalChildren) * 100) + '%' : '0%';
    spans[1].textContent = stats.totalChildren > 0 ? Math.round((stats.pendingVaccines / (stats.totalChildren * VACCINES.length)) * 100) + '%' : '0%';
    spans[2].textContent = stats.totalVaccines > 0 ? Math.round((stats.timelyVaccines / stats.totalVaccines) * 100) + '%' : '0%';
  }
});
</script>
<script>
function showLoginModal() {
  document.getElementById('loginModal').classList.remove('hidden');
}

function hideLoginModal() {
  document.getElementById('loginModal').classList.add('hidden');
  document.getElementById('email').value = '';
  document.getElementById('password').value = '';
  document.getElementById('error').classList.add('hidden');
}

function togglePasswordVisibility() {
  const input = document.getElementById('password');
  const icon = input.nextElementSibling.querySelector('.material-symbols-outlined');
  if (input.type === 'password') {
    input.type = 'text';
    icon.textContent = 'visibility';
  } else {
    input.type = 'password';
    icon.textContent = 'visibility_off';
  }
}
</script>
</body>
</html>
